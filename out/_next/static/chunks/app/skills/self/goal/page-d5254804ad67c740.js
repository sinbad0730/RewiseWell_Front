(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4590],{60552:function(e,t,l){Promise.resolve().then(l.bind(l,95692))},95692:function(e,t,l){"use strict";l.r(t);var n=l(57437),s=l(21837),a=l(2265),r=l(22623),o=l(96473),i=l(10868),d=l(68565),c=l(73002),u=l(15943),x=l(80513),m=l(27502),f=l(38097),h=l(99228);let j=()=>{let[e,t]=(0,a.useState)(0);return(0,h.Z)(),(0,n.jsxs)(i.Z,{vertical:!0,gap:"small",children:[(0,n.jsx)(i.Z,{vertical:!0,gap:"small",children:(0,n.jsx)(d.Z,{percent:e,type:"line"})}),(0,n.jsxs)(c.ZP.Group,{children:[(0,n.jsx)(c.ZP,{onClick:()=>{t(e=>{let t=e-20;return t<0?0:t})},icon:(0,n.jsx)(r.Z,{})}),(0,n.jsx)(c.ZP,{onClick:()=>{t(e=>{let t=e+20;return t>100?100:t})},icon:(0,n.jsx)(o.Z,{})})]})]})},p=a.createContext(null),g=e=>{let{index:t,...l}=e,[s]=u.Z.useForm();return(0,n.jsx)(u.Z,{form:s,component:!1,children:(0,n.jsx)(p.Provider,{value:s,children:(0,n.jsx)("tr",{...l})})})},k=e=>{let{title:t,editable:l,children:s,dataIndex:r,record:o,handleSave:i,...d}=e,[c,m]=(0,a.useState)(!1),f=(0,a.useRef)(null),h=(0,a.useContext)(p);(0,a.useEffect)(()=>{if(c){var e;null===(e=f.current)||void 0===e||e.focus()}},[c]);let j=()=>{m(!c),h.setFieldsValue({[r]:o[r]})},g=async()=>{try{let e=await h.validateFields();j(),i({...o,...e})}catch(e){console.log("Save failed:",e)}},k=s;return l&&(k=c?(0,n.jsx)(u.Z.Item,{style:{margin:0},name:r,rules:[{required:!0,message:"".concat(t," is required.")}],children:(0,n.jsx)(x.default,{ref:f,onPressEnter:g,onBlur:g})}):(0,n.jsx)("div",{className:"editable-cell-value-wrap",style:{paddingInlineEnd:24},onClick:j,children:s})),(0,n.jsx)("td",{...d,children:k})};t.default=(0,s.Z)(()=>{let[e,t]=(0,a.useState)([{key:"0",goal:"Improve math score by 10%",status:"London, Park Lane no. 0"},{key:"1",goal:"Complete all assignments on time",status:"London, Park Lane no. 1"}]),[l,s]=(0,a.useState)(2),r=l=>{t(e.filter(e=>e.key!==l))},o=l=>{let n=[...e],s=n.findIndex(e=>l.key===e.key),a=n[s];n.splice(s,1,{...a,...l}),t(n)},i=[{title:"Goal/Target",dataIndex:"goal",width:"30%",editable:!0},{title:"Status",dataIndex:"status",render:()=>(0,n.jsx)(j,{})},{title:"Actions",dataIndex:"operation",render:(t,l)=>e.length>=1?(0,n.jsx)(m.Z,{title:"Sure to delete?",onConfirm:()=>r(l.key),children:(0,n.jsx)("a",{children:"Delete"})}):null}].map(e=>e.editable?{...e,onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:o})}:e);return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-center text-3xl",children:"Student Goals & Targets"}),(0,n.jsx)(c.ZP,{onClick:()=>{t([...e,{key:l,goal:"Edward King ".concat(l),status:"London, Park Lane no. ".concat(l)}]),s(l+1)},type:"primary",style:{marginBottom:16},children:"Add a row"}),(0,n.jsx)(x.default,{placeholder:"Enter New Goal"}),(0,n.jsx)(f.Z,{components:{body:{row:g,cell:k}},rowClassName:()=>"editable-row",bordered:!0,dataSource:e,columns:i})]})})},21837:function(e,t,l){"use strict";var n=l(57437),s=l(2265),a=l(76934),r=l(99376),o=l(35801);let i=e=>e.displayName||e.name||"Component";t.Z=e=>{let t=t=>{let[l,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),u=(0,r.useRouter)(),[x,m]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("authtoken");if(e)try{let t=JSON.parse(e);i(t.user)}catch(e){console.error("Error parsing token:",e),i(null)}else i(null);c(!1)})()},[]),(0,s.useEffect)(()=>{d||l||(console.log("You must Log in"),u.push("/auth/login"))},[l,d,u]),d)?(0,n.jsx)("div",{className:"loader-overlay",children:(0,n.jsx)(o.Z,{size:5,color:"#ffffff"})}):l?(0,n.jsxs)("div",{children:[(0,n.jsx)(a.Z,{onLoginClick:()=>m(!0)}),(0,n.jsx)("div",{className:"pt-16",children:(0,n.jsx)(e,{...t,user:l,setUser:i})})]}):null};return t.displayName="WithAuth(".concat(i(e),")"),t}}},function(e){e.O(0,[5501,3301,4998,9485,1021,1498,5007,9411,6934,2971,2117,1744],function(){return e(e.s=60552)}),_N_E=e.O()}]);